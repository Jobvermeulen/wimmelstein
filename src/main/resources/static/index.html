<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>Guitars</h1>

<h2>Create new guitar</h2>
<form method="post" onsubmit="submitFunction()">

    Brand: <input name="brand" id="brand"><br>
    Model: <input name="model" id="model"><br>
    Price: <input name="price" id="price"><br>

    <input type="submit" name="submit" value="Send">

</form>
<script type="text/javascript">
    function submitFunction() {
        var xhr = new XMLHttpRequest();
        var url = "https://localhost:8443/guitars/secure";
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 201) {
                // var json = JSON.parse(xhr.responseText);
                log.console(xhr.responseText);
            }
        };

        guitar = "{\"brand\": \""  + document.querySelector('#brand').value
            + "\", \"model\": \"" + document.querySelector('#model').value
            + "\", \"price\": "  + document.querySelector('#price').value
        + "}";
        console.log(guitar);
        //var data = JSON.stringify({"brand": "Fender", "model": "bullet", "price": 1500});
        var data = JSON.stringify(guitar);
        xhr.send(data);
    }
</script>
</body>
</html>